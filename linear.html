<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Linear Function Explorer</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  canvas { border: 1px solid #ccc; }
  label { display: block; margin: 10px 0; }
  #formula { font-size: 20px; margin-bottom: 10px; }
</style>
</head>
<body>

<div id="formula">y = 1·x + 0</div>

<label>
  s (slope):
  <input type="range" id="s" min="-5" max="5" step="0.1" value="1" list="sMarks">
  <datalist id="sMarks">
    <option value="-1"></option>
    <option value="0"></option>
    <option value="1"></option>
  </datalist>
  <span id="sVal">1</span>
</label>

<label>
  i (intercept):
  <input type="range" id="i" min="-10" max="10" step="0.5" value="0" list="iMarks">
  <datalist id="iMarks">
    <option value="0"></option>
  </datalist>
  <span id="iVal">0</span>
</label>

<canvas id="graph" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById("graph");
const ctx = canvas.getContext("2d");

const sSlider = document.getElementById("s");
const iSlider = document.getElementById("i");
const sVal = document.getElementById("sVal");
const iVal = document.getElementById("iVal");
const formula = document.getElementById("formula");

const scale = 30;

function toCanvasX(x) {
  return canvas.width / 2 + x * scale;
}

function toCanvasY(y) {
  return canvas.height / 2 - y * scale;
}

function drawAxes() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.strokeStyle = "#aaa";
  ctx.lineWidth = 1;

  ctx.beginPath();
  ctx.moveTo(0, canvas.height / 2);
  ctx.lineTo(canvas.width, canvas.height / 2);
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(canvas.width / 2, 0);
  ctx.lineTo(canvas.width / 2, canvas.height);
  ctx.stroke();
}

function drawDottedGuides() {
  ctx.setLineDash([6, 6]);
  ctx.strokeStyle = "#777";
  ctx.lineWidth = 1;

  // y = x
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-10), toCanvasY(-10));
  ctx.lineTo(toCanvasX(10), toCanvasY(10));
  ctx.stroke();

  // y = -x
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-10), toCanvasY(10));
  ctx.lineTo(toCanvasX(10), toCanvasY(-10));
  ctx.stroke();

  ctx.setLineDash([]);
}

function drawLine(s, i) {
  ctx.strokeStyle = "black";
  ctx.lineWidth = 2;
  ctx.beginPath();

  for (let px = 0; px <= canvas.width; px++) {
    const x = (px - canvas.width / 2) / scale;
    const y = s * x + i;
    const py = toCanvasY(y);

    if (px === 0) ctx.moveTo(px, py);
    else ctx.lineTo(px, py);
  }

  ctx.stroke();
}

function updateFormula(s, i) {
  formula.textContent = `y = ${s}·x + ${i}`;
}

function update() {
  const s = parseFloat(sSlider.value);
  const i = parseFloat(iSlider.value);

  sVal.textContent = s;
  iVal.textContent = i;

  updateFormula(s, i);
  drawAxes();
  drawDottedGuides();
  drawLine(s, i);
}

sSlider.addEventListener("input", update);
iSlider.addEventListener("input", update);

update();
</script>

</body>
</html>
